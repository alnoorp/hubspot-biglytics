<div class="accordion" {% if module.max_1_open %}data-sync="true"{% endif %}>
  {% for accordion in module.accordion %}
    <div class="accordion__item" aria-expanded="{% if accordion.open_by_default %}true{% endif %}">
      <button>
        {{ accordion.accordion_header }}
        <span class="accordion__icon"></span>
      </button>
      <main>
        <div class="accordion__item-content">
          {{ accordion.accordion_content }}
        </div>
      </main>
    </div>
  {% endfor %}
</div>

{% if module.style.override_default_style %}
{% require_css %}
<style>
  #accordion_{{name}} .accordion__item button {
    color: rgba({{ module.style.accordion_color.color|convert_rgb }},{{ module.style.accordion_color.opacity * 0.01 }});
  }
  #accordion_{{name}} .accordion__icon {
    background-color: rgba({{ module.style.accordion_color.color|convert_rgb }},{{ module.style.accordion_color.opacity * 0.01 }});
  }
  #accordion_{{name}} .accordion__icon:before,
  #accordion_{{name}} .accordion__icon:after {
    background-color: rgba({{ module.style.accordion_icon_color.color|convert_rgb }},{{ module.style.accordion_icon_color.opacity * 0.01 }});
  }
  #accordion_{{name}} .accordion__item[aria-expanded=true] button {
    color: rgba({{ module.style.accordion_open_color.color|convert_rgb }},{{ module.style.accordion_open_color.opacity * 0.01 }});
  }
  #accordion_{{name}} .accordion__item[aria-expanded=true] .accordion__icon:before,
  #accordion_{{name}} .accordion__item[aria-expanded=true] .accordion__icon:after {
    background-color: rgba({{ module.style.accordion_icon_open_color.color|convert_rgb }},{{ module.style.accordion_icon_open_color.opacity * 0.01 }});
  }
  #accordion_{{name}} .accordion__item[aria-expanded=true] .accordion__icon {
    background-color: rgba({{ module.style.accordion_open_color.color|convert_rgb }},{{ module.style.accordion_open_color.opacity * 0.01 }});
  }
</style>
{% end_require_css %}
{% endif %}